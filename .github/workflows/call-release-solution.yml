name: Call Release Solution Workflow
on:
  release:
    types:
      - published

jobs:
  call-release-workflow:
    uses: ./.github/workflows/release-solution-to-prod-reusable.yml
    secrets:
      BUILD_ENVIRONMENT_URL: ${{ secrets.BUILD_ENVIRONMENT_URL }}  
      PRODUCTION_ENVIRONMENT_URL: ${{ secrets.PRODUCTION_ENVIRONMENT_URL }}  
      CLIENT_ID: ${{ secrets.CLIENT_ID }} 
      TENANT_ID: ${{ secrets.TENANT_ID }}  
      envSecret: ${{ secrets.PowerPlatformSPN }}  

    steps:  # This should be aligned with "jobs" and "call-release-workflow"
      - name: Link Jira Issue to Release
        run: |
          echo "Release linked to Jira issue SCRUM-1"
